webpackJsonp([8],{691:function(e,s,t){t(748),t(735);var r=t(38)(t(727),t(783),null,null);r.options.__file="D:\\AAA\\2017-11-20\\src\\views\\login.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] login.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},695:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=t(49),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a={};a.baseURL="http://172.20.0.192:9000/",a.getAjaxData=function(e,s){$.ajax({url:e,type:"GET",beforeSend:function(e){e.setRequestHeader("X-ss-id",o.default.get("pms-ss-id")),e.setRequestHeader("X-ss-pid",o.default.get("pms-ss-id")),e.setRequestHeader("X-ss-opts","perm"),e.setRequestHeader("X-UAId",o.default.get("pms-X-UAId"))},success:function(e){s(e)}})},a.postAjaxData=function(e){$.ajax({url:e,type:"POST",beforeSend:function(e){e.setRequestHeader("X-ss-id",o.default.get("pms-ss-id")),e.setRequestHeader("X-ss-pid",o.default.get("pms-ss-id")),e.setRequestHeader("X-ss-opts","perm"),e.setRequestHeader("X-UAId",o.default.get("pms-X-UAId"))},success:function(e){console.log(e),console.log("提交成功")}})},a.putAjaxData=function(e){$.ajax({url:e,type:"PUT",beforeSend:function(e){e.setRequestHeader("X-ss-id",o.default.get("pms-ss-id")),e.setRequestHeader("X-ss-pid",o.default.get("pms-ss-id")),e.setRequestHeader("X-ss-opts","perm"),e.setRequestHeader("X-UAId",o.default.get("pms-X-UAId"))},success:function(e){console.log(e),console.log("更新成功")}})},a.deleteAjaxData=function(e){$.ajax({url:e,type:"DELETE",beforeSend:function(e){e.setRequestHeader("X-ss-id",o.default.get("pms-ss-id")),e.setRequestHeader("X-ss-pid",o.default.get("pms-ss-id")),e.setRequestHeader("X-ss-opts","perm"),e.setRequestHeader("X-UAId",o.default.get("pms-X-UAId"))},success:function(e){console.log(e),console.log("删除成功")}})},s.default=a},727:function(e,s,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(s,"__esModule",{value:!0});var o=t(49),a=r(o),n=t(695);r(n);s.default={data:function(){return{form:{userName:"datist",password:"datist2016"},rules:{userName:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{handleSubmit:function(){var e=this,s=this;this.$refs.loginForm.validate(function(t){t&&$.ajax({url:"http://61.185.0.135:6988/Auth/datis",data:{provider:"credentials",UserName:e.form.userName,Password:e.form.password,RememberMe:!0},type:"POST",dataType:"JSON",success:function(e,t,r){a.default.set("user",s.form.userName),a.default.set("pms-ss-id",e.sessionId),a.default.set("pms-X-UAId",e.userId),s.$store.commit("setAvator","https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3448484253,3685836170&fm=27&gp=0.jpg"),"datist"===s.form.userName?a.default.set("access",0):a.default.set("access",1),s.$router.push({name:"home_index"})},error:function(e){console.log(e),alert("请确认用户名密码是否正确!")}})})}}}},735:function(e,s){},748:function(e,s){},783:function(e,s,t){e.exports={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login",on:{keydown:function(s){if(!("button"in s)&&e._k(s.keyCode,"enter",13,s.key))return null;e.handleSubmit(s)}}},[t("div",{staticClass:"login-con"},[t("Card",{attrs:{bordered:!1}},[t("p",{attrs:{slot:"title"},slot:"title"},[t("Icon",{attrs:{type:"log-in"}}),e._v("\n                欢迎登录\n            ")],1),e._v(" "),t("div",{staticClass:"form-con"},[t("Form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules}},[t("FormItem",{attrs:{prop:"userName"}},[t("Input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(s){e.$set(e.form,"userName",s)},expression:"form.userName"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[t("Icon",{attrs:{size:16,type:"person"}})],1)])],1),e._v(" "),t("FormItem",{attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[t("Icon",{attrs:{size:14,type:"locked"}})],1)])],1),e._v(" "),t("FormItem",[t("Button",{attrs:{type:"primary",long:""},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1),e._v(" "),t("p",{staticClass:"login-tip"},[e._v("输入任意用户名和密码即可")])],1)])],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0}});