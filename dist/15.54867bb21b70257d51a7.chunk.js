webpackJsonp([15],{676:function(e,t,s){var a=s(38)(s(700),s(701),null,null);a.options.__file="D:\\AAA\\2017-11-20\\src\\views\\demo\\table.vue",a.esModule&&Object.keys(a.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] table.vue: functional components are not supported with templates, they should use render functions."),e.exports=a.exports},695:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(49),i=function(e){return e&&e.__esModule?e:{default:e}}(a),n={};n.baseURL="http://172.20.0.192:9000/",n.getAjaxData=function(e,t){$.ajax({url:e,type:"GET",beforeSend:function(e){e.setRequestHeader("X-ss-id",i.default.get("pms-ss-id")),e.setRequestHeader("X-ss-pid",i.default.get("pms-ss-id")),e.setRequestHeader("X-ss-opts","perm"),e.setRequestHeader("X-UAId",i.default.get("pms-X-UAId"))},success:function(e){t(e)}})},n.postAjaxData=function(e){$.ajax({url:e,type:"POST",beforeSend:function(e){e.setRequestHeader("X-ss-id",i.default.get("pms-ss-id")),e.setRequestHeader("X-ss-pid",i.default.get("pms-ss-id")),e.setRequestHeader("X-ss-opts","perm"),e.setRequestHeader("X-UAId",i.default.get("pms-X-UAId"))},success:function(e){console.log(e),console.log("提交成功")}})},n.putAjaxData=function(e){$.ajax({url:e,type:"PUT",beforeSend:function(e){e.setRequestHeader("X-ss-id",i.default.get("pms-ss-id")),e.setRequestHeader("X-ss-pid",i.default.get("pms-ss-id")),e.setRequestHeader("X-ss-opts","perm"),e.setRequestHeader("X-UAId",i.default.get("pms-X-UAId"))},success:function(e){console.log(e),console.log("更新成功")}})},n.deleteAjaxData=function(e){$.ajax({url:e,type:"DELETE",beforeSend:function(e){e.setRequestHeader("X-ss-id",i.default.get("pms-ss-id")),e.setRequestHeader("X-ss-pid",i.default.get("pms-ss-id")),e.setRequestHeader("X-ss-opts","perm"),e.setRequestHeader("X-UAId",i.default.get("pms-X-UAId"))},success:function(e){console.log(e),console.log("删除成功")}})},t.default=n},700:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(695),i=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={name:"tableCanEdit",data:function(){var e=this;return{columns:[{key:"deviceID",title:"设备ID"},{key:"deviceAddress",title:"设备地址"},{key:"parentID",title:"父节点ID"},{key:"deviceName",title:"设备名称",ellipsis:!0},{key:"installationAddress",title:"安装位置"},{key:"deviceType",title:"设备类型"},{key:"groupName",title:"采油队"},{key:"txtdata",title:"状态"},{title:"操作",align:"center",width:190,key:"handle",render:function(t,s){return t("div",[t("Button",{props:{type:"default",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.show(s.index)}}},"查看"),t("Button",{props:{type:"default",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.modify(s.index)}}},"修改"),t("Button",{props:{type:"warning",size:"small"},on:{click:function(){e.remove(s.index)}}},"删除")])}}],data:[],total:100,pageCurrent:1,pageSize:10,modifyData:[],modalModify:!1}},created:function(){},mounted:function(){var e=this;i.default.getAjaxData(i.default.baseURL+"Ping/Devices?skip=0&take=10",function(t){e.fillData(t)})},methods:{fillData:function(e){this.total=e.total,this.data=e.results},changePage:function(e){var t=this;this.pageCurrent=e;var s=this.pageSize,a=(e-1)*s;i.default.getAjaxData(i.default.baseURL+"Ping/Devices?skip="+a+"&take="+s,function(e){t.fillData(e)})},changePageSize:function(e){var t=this;this.pageSize=e;var s=this.pageCurrent,a=(s-1)*e;i.default.getAjaxData(i.default.baseURL+"Ping/Devices?skip="+a+"&take="+e,function(e){t.fillData(e)})},show:function(e){this.$Modal.info({title:"用户信息",content:"设备ID："+this.data[e].deviceID+"<br>设备名称："+this.data[e].deviceName+"<br>设备地址："+this.data[e].deviceAddress})},modify:function(e){this.modalModify=!0,this.modifyData=this.data[e]},remove:function(e){this.data.splice(e,1)},ok:function(){this.$Message.info("点击了确定")},cancel:function(){this.$Message.info("点击了取消")}}}},701:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("card",[s("div",{staticClass:"margin-bottom-10"},[s("Table",{staticStyle:{"min-height":"400px"},attrs:{data:e.data,columns:e.columns,stripe:"",border:"",size:"small"}})],1),e._v(" "),s("Page",{attrs:{total:e.total,current:1,"show-elevator":"","show-sizer":"",placement:"top",transfer:!0},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1),e._v(" "),s("div",{staticStyle:{"padding-top":"10px"}},[s("Modal",{attrs:{title:"修改信息"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modalModify,callback:function(t){e.modalModify=t},expression:"modalModify"}},[s("Input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"设备ID",value:this.modifyData.deviceID}}),e._v(" "),s("Input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"small size",value:this.modifyData.deviceAddress}}),e._v(" "),s("Input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"small size",value:this.modifyData.deviceName}})],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});