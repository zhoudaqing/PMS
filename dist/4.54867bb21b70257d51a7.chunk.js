webpackJsonp([4],{679:function(t,e,a){a(739);var s=a(38)(a(706),a(768),"data-v-22df0fa9",null);s.options.__file="D:\\AAA\\2017-11-20\\src\\views\\app\\base-data\\deptm-set\\deptm-set.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] deptm-set.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},695:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(49),l=function(t){return t&&t.__esModule?t:{default:t}}(s),o={};o.baseURL="http://172.20.0.192:9000/",o.getAjaxData=function(t,e){$.ajax({url:t,type:"GET",beforeSend:function(t){t.setRequestHeader("X-ss-id",l.default.get("pms-ss-id")),t.setRequestHeader("X-ss-pid",l.default.get("pms-ss-id")),t.setRequestHeader("X-ss-opts","perm"),t.setRequestHeader("X-UAId",l.default.get("pms-X-UAId"))},success:function(t){e(t)}})},o.postAjaxData=function(t){$.ajax({url:t,type:"POST",beforeSend:function(t){t.setRequestHeader("X-ss-id",l.default.get("pms-ss-id")),t.setRequestHeader("X-ss-pid",l.default.get("pms-ss-id")),t.setRequestHeader("X-ss-opts","perm"),t.setRequestHeader("X-UAId",l.default.get("pms-X-UAId"))},success:function(t){console.log(t),console.log("提交成功")}})},o.putAjaxData=function(t){$.ajax({url:t,type:"PUT",beforeSend:function(t){t.setRequestHeader("X-ss-id",l.default.get("pms-ss-id")),t.setRequestHeader("X-ss-pid",l.default.get("pms-ss-id")),t.setRequestHeader("X-ss-opts","perm"),t.setRequestHeader("X-UAId",l.default.get("pms-X-UAId"))},success:function(t){console.log(t),console.log("更新成功")}})},o.deleteAjaxData=function(t){$.ajax({url:t,type:"DELETE",beforeSend:function(t){t.setRequestHeader("X-ss-id",l.default.get("pms-ss-id")),t.setRequestHeader("X-ss-pid",l.default.get("pms-ss-id")),t.setRequestHeader("X-ss-opts","perm"),t.setRequestHeader("X-UAId",l.default.get("pms-X-UAId"))},success:function(t){console.log(t),console.log("删除成功")}})},e.default=o},696:function(t,e,a){t.exports={default:a(698),__esModule:!0}},697:function(t,e,a){"use strict";e.__esModule=!0;var s=a(696),l=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=function(t,e,a){return e in t?(0,l.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},698:function(t,e,a){a(699);var s=a(22).Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},699:function(t,e,a){var s=a(40);s(s.S+s.F*!a(39),"Object",{defineProperty:a(31).f})},706:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a(77),o=s(l),i=a(697),n=s(i),r=a(695),c=s(r);e.default={data:function(){var t=this;return{modal1:!1,modal2:!1,options:"",material:"",conta:"",com_name:"",data:[],company:[],contact:[],data1:[],skip:0,take:10,total:100,pageCurrent:1,pageSize:10,indexData:[],modalModify:!1,columns:[(0,n.default)({type:"selection",width:60,align:"center"},"width",60),{key:"id",title:"ID",align:"center",width:60},{key:"subClass_Value",title:"名称",align:"center"},{key:"cmp_Contact",title:"联系人",align:"center",width:120},{key:"cmp_Phone",title:"电话",align:"center"},{key:"cmp_Adress",title:"地址",align:"center",width:300},{key:"pinyin",title:"拼音",align:"center",width:100},{key:"isEnable",title:"启用状态",align:"center",width:100},{title:"操作",align:"center",width:200,key:"handle",render:function(e,a){return e("div",[e("Button",{props:{type:"default",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.modify(a.index)}}},"编辑"),e("Button",{props:{type:"warning",size:"small"},on:{click:function(){t.remove(a.index)}}},"删除")])}}],formValidate:{ID:"",class_ID:"",subClass_ID:"",subClass_Value:"",cmp_FName:"",cmp_Contact:"",cmp_Phone:"",cmp_Adress:"",cmp_DepositBank:"",cmp_Account:"",cmp_Tax:"",zip_Code:"",isEnable:"int",pinYin:"",remarks:""},ruleValidate:{class_ID:[{required:!0,message:"分类不能为空",trigger:"change"}],subClass_Value:[{required:!0,message:"公司简称不能为空",trigger:"blur"},{type:"string",min:5,message:"Introduce no less than 20 words",trigger:"blur"}],cmp_FName:[{required:!0,message:"公司全称不能为空",trigger:"blur"},{type:"string",min:5,message:"Introduce no less than 20 words",trigger:"blur"}],cmp_Contact:[{required:!0,message:"联系人不能为空",trigger:"blur"}],cmp_Phone:[{required:!0,message:"联系电话不能为空",trigger:"blur"}],cmp_Adress:[]}}},methods:{amend:function(){console.log(this.indexData);var t=document.querySelectorAll(t),e=t.value;e.onchange&&(e=t.value,indexData.push),this.putAjaxData("http://127.0.0.1:9000/PublicApi/Bs_CommInfo",(0,o.default)(this.indexData)),alert("提交成功")},cancel:function(){close()},modify:function(t){this.modalModify=!0,this.indexData=this.data1[t]},remove:function(t){1==confirm("您即将删除这条信息,确认删除请按确定,否则请按取消!")?(this.deleteAjaxData("http://127.0.0.1:9000/PublicApi/Bs_CommInfo?ID="+this.data1[t].id),alert("删除成功,请刷新页面!")):alert("您取消了删除")},check:function(t,e){this.options="";var a=this;this.material&&(a.options+="&Class_ID="+a.material),this.com_name&&(a.options+="&subClass_Value="+a.com_name),this.conta&&(a.options+="&cmp_Contact="+a.conta),void 0==t&&(t=0),void 0==e&&(e=this.pageSize),c.default.getAjaxData(c.default.baseURL+"/PublicApi/Bs_CommInfo?Skip="+t+"&take="+e+this.options,function(t){a.data1=t.results,a.total=t.total})},changePage:function(t){this.pageCurrent=t;var e=this.pageSize,a=(t-1)*e;this.check(a,e)},changePageSize:function(t){this.pageSize=t;var e=this.pageCurrent,a=(e-1)*t;this.check(a,t)},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?(e.postAjaxData("http://127.0.0.1:9000/PublicApi/Bs_CommInfo",(0,o.default)(e.formValidate)),alert("登记保存成功,您可以继续登记下条记录,或者关闭登记窗口!")):e.$Message.error("保存失败")})},handleReset:function(t){this.$refs[t].resetFields()}},mounted:function(){var t=this,e=this;c.default.getAjaxData(c.default.baseURL+"/PublicApi/Bs_CommInfo_view?Skip="+this.skip+"&take="+this.take,function(t){e.data1=t.results,e.total=t.total}),c.default.getAjaxData(c.default.baseURL+"/PublicApi/Bs_ClassSet?Class_ID%3C=105",function(t){e.data=t.results}),c.default.getAjaxData(c.default.baseURL+"/PublicApi/Bs_comminfo_view?&Comm_ID%3C=10510001&",function(e){var a=t;e.results.forEach(function(t){a.company.indexOf(t.subClass_Value)&&a.company.push(t.subClass_Value)})}),c.default.getAjaxData(c.default.baseURL+"/PublicApi/Bs_comminfo_view?&Comm_ID%3C=10510001&",function(e){var a=t;e.results.forEach(function(t){a.contact.indexOf(t.cmp_Contact)&&a.contact.push(t.cmp_Contact)})})}}},739:function(t,e){},768:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("card",{staticClass:"margin-bottom-10"},[a("div",{staticClass:"select-col"},[a("div",{staticClass:"div"},[a("label",{staticClass:"label",attrs:{for:"for",filterable:""}},[t._v("基础分类:")]),t._v(" "),a("Select",{staticClass:"select",model:{value:t.material,callback:function(e){t.material=e},expression:"material"}},[a("Option",{attrs:{value:"全部"}},[t._v("全部")]),t._v(" "),t._l(t.data,function(e){return a("Option",{key:e.Class_ID,attrs:{value:e.class_ID}},[t._v(t._s(e.class_Value))])})],2)],1),t._v(" "),a("div",{staticClass:"div"},[a("label",{staticClass:"label",attrs:{for:"for"}},[t._v("公司简称:")]),t._v(" "),a("Select",{staticClass:"select",attrs:{filterable:""},model:{value:t.com_name,callback:function(e){t.com_name=e},expression:"com_name"}},[a("Option",{attrs:{value:"全部"}},[t._v("全部")]),t._v(" "),t._l(t.company,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})],2)],1),t._v(" "),a("div",{staticClass:"div"},[a("label",{staticClass:"label",attrs:{for:"for"}},[t._v("联系人:")]),t._v(" "),a("Select",{staticClass:"select",attrs:{filterable:""},model:{value:t.conta,callback:function(e){t.conta=e},expression:"conta"}},[a("Option",{attrs:{value:"全部"}},[t._v("全部")]),t._v(" "),t._l(t.contact,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})],2)],1),t._v(" "),a("div",{staticClass:"div"},[a("i-button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){t.check()}}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"last"},[a("i-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(e){t.modal1=!0}}},[t._v("新增")])],1)])]),t._v(" "),a("card",{staticClass:"margin-bottom-10"},[a("Table",{staticClass:"margin-bottom-10",staticStyle:{"min-height":"400px"},attrs:{size:"small",border:"",columns:t.columns,data:t.data1}}),t._v(" "),a("div",[a("Page",{attrs:{total:t.total,current:1,"show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1),t._v(" "),a("Modal",{staticClass:"modal",attrs:{icon:"clipboard","mask-closable":!1,styles:{top:"20px"}},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"clipboard"}}),t._v(" "),a("span",[t._v("新增基础信息")])],1),t._v(" "),a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"分类",prop:"class_ID"}},[a("Select",{staticClass:"select",staticStyle:{width:"300px"},model:{value:t.formValidate.class_ID,callback:function(e){t.$set(t.formValidate,"class_ID",e)},expression:"formValidate.class_ID"}},t._l(t.data,function(e){return a("Option",{key:e.Class_ID,attrs:{value:e.class_ID}},[t._v(t._s(e.class_Value))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"单位简称",prop:"subClass_Value"}},[a("Input",{staticClass:"select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入公司简称"},model:{value:t.formValidate.subClass_Value,callback:function(e){t.$set(t.formValidate,"subClass_Value",e)},expression:"formValidate.subClass_Value"}})],1),t._v(" "),a("FormItem",{attrs:{label:"单位全称",prop:"cmp_FName"}},[a("Input",{staticClass:"select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入公司全称"},model:{value:t.formValidate.cmp_FName,callback:function(e){t.$set(t.formValidate,"cmp_FName",e)},expression:"formValidate.cmp_FName"}})],1),t._v(" "),a("FormItem",{attrs:{label:"联系人",prop:"cmp_Contact"}},[a("Input",{staticClass:"select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入公司联系人"},model:{value:t.formValidate.cmp_Contact,callback:function(e){t.$set(t.formValidate,"cmp_Contact",e)},expression:"formValidate.cmp_Contact"}})],1),t._v(" "),a("FormItem",{attrs:{label:"电话",prop:"cmp_Phone"}},[a("Input",{staticClass:"select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入联系电话"},model:{value:t.formValidate.cmp_Phone,callback:function(e){t.$set(t.formValidate,"cmp_Phone",e)},expression:"formValidate.cmp_Phone"}})],1),t._v(" "),a("FormItem",{attrs:{label:"地址",prop:"cmp_Adress"}},[a("Input",{staticClass:"select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入公司地址"},model:{value:t.formValidate.cmp_Adress,callback:function(e){t.$set(t.formValidate,"cmp_Adress",e)},expression:"formValidate.cmp_Adress"}})],1),t._v(" "),a("FormItem",{attrs:{label:"开户银行",prop:"cmp_DepositBank"}},[a("Input",{staticClass:"select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入开户银行"},model:{value:t.formValidate.cmp_DepositBank,callback:function(e){t.$set(t.formValidate,"cmp_DepositBank",e)},expression:"formValidate.cmp_DepositBank"}})],1),t._v(" "),a("FormItem",{attrs:{label:"账号",prop:"cmp_Account"}},[a("Input",{staticClass:"select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入开户行账号"},model:{value:t.formValidate.cmp_Account,callback:function(e){t.$set(t.formValidate,"cmp_Account",e)},expression:"formValidate.cmp_Account"}})],1),t._v(" "),a("FormItem",{attrs:{label:"税号",prop:"cmp_Tax"}},[a("Input",{staticClass:"select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入邮政编码"},model:{value:t.formValidate.cmp_Tax,callback:function(e){t.$set(t.formValidate,"cmp_Tax",e)},expression:"formValidate.cmp_Tax"}})],1),t._v(" "),a("FormItem",{attrs:{label:"邮政编码",prop:"zip_Code"}},[a("Input",{staticClass:"select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入税号"},model:{value:t.formValidate.zip_Code,callback:function(e){t.$set(t.formValidate,"zip_Code",e)},expression:"formValidate.zip_Code"}})],1),t._v(" "),a("FormItem",{attrs:{label:"备注",prop:"remarks"}},[a("Input",{staticClass:"select",staticStyle:{width:"300px"},attrs:{placeholder:"请备注信息"},model:{value:t.formValidate.remarks,callback:function(e){t.$set(t.formValidate,"remarks",e)},expression:"formValidate.remarks"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("保存")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(e){t.handleReset("formValidate")}}},[t._v("重置")])],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),a("Modal",{staticClass:"modal",attrs:{"mask-closable":!1},model:{value:t.modalModify,callback:function(e){t.modalModify=e},expression:"modalModify"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"clipboard"}}),t._v(" "),a("span",[t._v("修改信息")])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});